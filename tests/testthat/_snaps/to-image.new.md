# vw_to_svg works with vega spec

    Code
      spec_mtcars %>% vw_to_vega() %>% vw_to_svg() %>% cat()
    Output
      <?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="marks" width="392" height="347" viewBox="0 0 392 347"><rect width="392" height="347" fill="white"/><g fill="none" stroke-miterlimit="10" transform="translate(43,10)"><g class="mark-group role-frame root" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0.5,0.5h300v300h-300Z" stroke="#ddd"/><g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,300.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(27,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(55,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(82,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(109,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(136,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(164,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(191,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(218,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(245,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(273,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(300,-300)" x2="0" y2="300" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,300)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,257)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,214)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,171)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,129)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,86)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,43)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,0)" x2="300" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="X-axis titled 'wt' for a linear scale with values from 0 to 6"><g transform="translate(0.5,300.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(27,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(55,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(82,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(109,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(136,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(164,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(191,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(218,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(245,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(273,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(300,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="start" transform="translate(0,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">0.0</text><text text-anchor="middle" transform="translate(27.272727272727273,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">0.5</text><text text-anchor="middle" transform="translate(54.54545454545455,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">1.0</text><text text-anchor="middle" transform="translate(81.81818181818181,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">1.5</text><text text-anchor="middle" transform="translate(109.0909090909091,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">2.0</text><text text-anchor="middle" transform="translate(136.36363636363635,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">2.5</text><text text-anchor="middle" transform="translate(163.63636363636363,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">3.0</text><text text-anchor="middle" transform="translate(190.9090909090909,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">3.5</text><text text-anchor="middle" transform="translate(218.1818181818182,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">4.0</text><text text-anchor="middle" transform="translate(245.45454545454547,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">4.5</text><text text-anchor="middle" transform="translate(272.7272727272727,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">5.0</text><text text-anchor="end" transform="translate(300,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">5.5</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="300" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(150,30)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">wt</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="Y-axis titled 'mpg' for a linear scale with values from 0 to 35"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,300)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,257)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,214)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,171)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,129)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,86)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,43)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,0)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="end" transform="translate(-7,303)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">0</text><text text-anchor="end" transform="translate(-7,260.14285714285717)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">5</text><text text-anchor="end" transform="translate(-7,217.28571428571428)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">10</text><text text-anchor="end" transform="translate(-7,174.42857142857142)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">15</text><text text-anchor="end" transform="translate(-7,131.57142857142858)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">20</text><text text-anchor="end" transform="translate(-7,88.71428571428571)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">25</text><text text-anchor="end" transform="translate(-7,45.85714285714287)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">30</text><text text-anchor="end" transform="translate(-7,3)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">35</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,300)" x2="0" y2="-300" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(-27,150) rotate(-90) translate(0,-2)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">mpg</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-symbol role-mark marks" role="graphics-object" aria-roledescription="symbol mark container"><path aria-label="wt: 2.62; mpg: 21; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(142.9090909090909,120)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.875; mpg: 21; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(156.8181818181818,120)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.32; mpg: 22.8; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(126.54545454545455,104.57142857142856)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.215; mpg: 21.4; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(175.36363636363635,116.57142857142857)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.44; mpg: 18.7; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(187.63636363636365,139.71428571428572)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.46; mpg: 18.1; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(188.72727272727272,144.85714285714283)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.57; mpg: 14.3; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(194.72727272727272,177.42857142857142)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.19; mpg: 24.4; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(174,90.85714285714288)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.15; mpg: 22.8; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(171.8181818181818,104.57142857142856)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.44; mpg: 19.2; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(187.63636363636365,135.42857142857142)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.44; mpg: 17.8; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(187.63636363636365,147.42857142857144)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 4.07; mpg: 16.4; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(222.00000000000003,159.42857142857144)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.73; mpg: 17.3; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(203.45454545454547,151.7142857142857)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.78; mpg: 15.2; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(206.1818181818182,169.71428571428572)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 5.25; mpg: 10.4; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(286.3636363636364,210.85714285714286)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 5.424; mpg: 10.4; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(295.8545454545455,210.85714285714286)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 5.345; mpg: 14.7; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(291.54545454545456,174.00000000000003)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.2; mpg: 32.4; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(120,22.285714285714285)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 1.615; mpg: 30.4; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(88.0909090909091,39.42857142857144)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 1.835; mpg: 33.9; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(100.09090909090908,9.428571428571441)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.465; mpg: 21.5; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(134.45454545454547,115.71428571428571)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.52; mpg: 15.5; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(192,167.14285714285714)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.435; mpg: 15.2; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(187.36363636363635,169.71428571428572)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.84; mpg: 13.3; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(209.45454545454544,186)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.845; mpg: 19.2; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(209.72727272727272,135.42857142857142)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 1.935; mpg: 27.3; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(105.54545454545455,65.99999999999999)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.14; mpg: 26; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(116.72727272727273,77.14285714285714)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 1.513; mpg: 30.4; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(82.52727272727272,39.42857142857144)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.17; mpg: 15.8; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(172.90909090909088,164.57142857142856)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.77; mpg: 19.7; cyl: 6" role="graphics-symbol" aria-roledescription="point" transform="translate(151.0909090909091,131.14285714285714)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#f58518" stroke-width="2" opacity="0.7"/><path aria-label="wt: 3.57; mpg: 15; cyl: 8" role="graphics-symbol" aria-roledescription="point" transform="translate(194.72727272727272,171.42857142857142)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#e45756" stroke-width="2" opacity="0.7"/><path aria-label="wt: 2.78; mpg: 21.4; cyl: 4" role="graphics-symbol" aria-roledescription="point" transform="translate(151.63636363636363,116.57142857142857)" d="M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0" stroke="#4c78a8" stroke-width="2" opacity="0.7"/></g><g class="mark-group role-legend" role="graphics-symbol" aria-roledescription="legend" aria-label="Symbol legend titled 'cyl' for stroke color with 3 values: 4, 6, 8"><g transform="translate(318,0)"><path class="background" aria-hidden="true" d="M0,0h26v61h-26Z" pointer-events="none"/><g><g class="mark-group role-legend-entry"><g transform="translate(0,16)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-group role-scope" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0,0h24v12.5h-24Z" pointer-events="none" opacity="1"/><g><g class="mark-symbol role-legend-symbol" pointer-events="none"><path transform="translate(6,6)" d="M5,0A5,5,0,1,1,-5,0A5,5,0,1,1,5,0" stroke="#4c78a8" stroke-width="1.5" opacity="0.7"/></g><g class="mark-text role-legend-label" pointer-events="none"><text text-anchor="start" transform="translate(16,9)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">4</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g><g transform="translate(0,16)"><path class="background" aria-hidden="true" d="M0,0h24v12.5h-24Z" pointer-events="none" opacity="1"/><g><g class="mark-symbol role-legend-symbol" pointer-events="none"><path transform="translate(6,6)" d="M5,0A5,5,0,1,1,-5,0A5,5,0,1,1,5,0" stroke="#f58518" stroke-width="1.5" opacity="0.7"/></g><g class="mark-text role-legend-label" pointer-events="none"><text text-anchor="start" transform="translate(16,9)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">6</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g><g transform="translate(0,32)"><path class="background" aria-hidden="true" d="M0,0h24v12.5h-24Z" pointer-events="none" opacity="1"/><g><g class="mark-symbol role-legend-symbol" pointer-events="none"><path transform="translate(6,6)" d="M5,0A5,5,0,1,1,-5,0A5,5,0,1,1,5,0" stroke="#e45756" stroke-width="1.5" opacity="0.7"/></g><g class="mark-text role-legend-label" pointer-events="none"><text text-anchor="start" transform="translate(16,9)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">8</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-text role-legend-title" pointer-events="none"><text text-anchor="start" transform="translate(0,9)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">cyl</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g></svg>

# vw_to_svg works with vega-lite spec

    Code
      vw_to_svg_new(spec_mtcars)
    Output
      [1] "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" class=\"marks\" width=\"392\" height=\"347\" viewBox=\"0 0 392 347\"><rect width=\"392\" height=\"347\" fill=\"white\"/><g fill=\"none\" stroke-miterlimit=\"10\" transform=\"translate(43,10)\"><g class=\"mark-group role-frame root\" role=\"graphics-object\" aria-roledescription=\"group mark container\"><g transform=\"translate(0,0)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0.5,0.5h300v300h-300Z\" stroke=\"#ddd\"/><g><g class=\"mark-group role-axis\" aria-hidden=\"true\"><g transform=\"translate(0.5,300.5)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h0v0h0Z\" pointer-events=\"none\"/><g><g class=\"mark-rule role-axis-grid\" pointer-events=\"none\"><line transform=\"translate(0,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(27,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(55,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(82,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(109,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(136,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(164,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(191,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(218,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(245,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(273,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(300,-300)\" x2=\"0\" y2=\"300\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g><g class=\"mark-group role-axis\" aria-hidden=\"true\"><g transform=\"translate(0.5,0.5)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h0v0h0Z\" pointer-events=\"none\"/><g><g class=\"mark-rule role-axis-grid\" pointer-events=\"none\"><line transform=\"translate(0,300)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,257)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,214)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,171)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,129)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,86)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,43)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,0)\" x2=\"300\" y2=\"0\" stroke=\"#ddd\" stroke-width=\"1\" opacity=\"1\"/></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g><g class=\"mark-group role-axis\" role=\"graphics-symbol\" aria-roledescription=\"axis\" aria-label=\"X-axis titled 'wt' for a linear scale with values from 0 to 6\"><g transform=\"translate(0.5,300.5)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h0v0h0Z\" pointer-events=\"none\"/><g><g class=\"mark-rule role-axis-tick\" pointer-events=\"none\"><line transform=\"translate(0,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(27,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(55,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(82,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(109,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(136,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(164,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(191,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(218,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(245,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(273,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(300,0)\" x2=\"0\" y2=\"5\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/></g><g class=\"mark-text role-axis-label\" pointer-events=\"none\"><text text-anchor=\"start\" transform=\"translate(0,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">0.0</text><text text-anchor=\"middle\" transform=\"translate(27.272727272727273,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"0\">0.5</text><text text-anchor=\"middle\" transform=\"translate(54.54545454545455,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">1.0</text><text text-anchor=\"middle\" transform=\"translate(81.81818181818181,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"0\">1.5</text><text text-anchor=\"middle\" transform=\"translate(109.0909090909091,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">2.0</text><text text-anchor=\"middle\" transform=\"translate(136.36363636363635,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"0\">2.5</text><text text-anchor=\"middle\" transform=\"translate(163.63636363636363,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">3.0</text><text text-anchor=\"middle\" transform=\"translate(190.9090909090909,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"0\">3.5</text><text text-anchor=\"middle\" transform=\"translate(218.1818181818182,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">4.0</text><text text-anchor=\"middle\" transform=\"translate(245.45454545454547,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"0\">4.5</text><text text-anchor=\"middle\" transform=\"translate(272.7272727272727,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">5.0</text><text text-anchor=\"end\" transform=\"translate(300,15)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"0\">5.5</text></g><g class=\"mark-rule role-axis-domain\" pointer-events=\"none\"><line transform=\"translate(0,0)\" x2=\"300\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/></g><g class=\"mark-text role-axis-title\" pointer-events=\"none\"><text text-anchor=\"middle\" transform=\"translate(150,30)\" font-family=\"sans-serif\" font-size=\"11px\" font-weight=\"bold\" fill=\"#000\" opacity=\"1\">wt</text></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g><g class=\"mark-group role-axis\" role=\"graphics-symbol\" aria-roledescription=\"axis\" aria-label=\"Y-axis titled 'mpg' for a linear scale with values from 0 to 35\"><g transform=\"translate(0.5,0.5)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h0v0h0Z\" pointer-events=\"none\"/><g><g class=\"mark-rule role-axis-tick\" pointer-events=\"none\"><line transform=\"translate(0,300)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,257)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,214)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,171)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,129)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,86)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,43)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/><line transform=\"translate(0,0)\" x2=\"-5\" y2=\"0\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/></g><g class=\"mark-text role-axis-label\" pointer-events=\"none\"><text text-anchor=\"end\" transform=\"translate(-7,303)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">0</text><text text-anchor=\"end\" transform=\"translate(-7,260.14285714285717)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">5</text><text text-anchor=\"end\" transform=\"translate(-7,217.28571428571428)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">10</text><text text-anchor=\"end\" transform=\"translate(-7,174.42857142857142)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">15</text><text text-anchor=\"end\" transform=\"translate(-7,131.57142857142858)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">20</text><text text-anchor=\"end\" transform=\"translate(-7,88.71428571428571)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">25</text><text text-anchor=\"end\" transform=\"translate(-7,45.85714285714287)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">30</text><text text-anchor=\"end\" transform=\"translate(-7,3)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">35</text></g><g class=\"mark-rule role-axis-domain\" pointer-events=\"none\"><line transform=\"translate(0,300)\" x2=\"0\" y2=\"-300\" stroke=\"#888\" stroke-width=\"1\" opacity=\"1\"/></g><g class=\"mark-text role-axis-title\" pointer-events=\"none\"><text text-anchor=\"middle\" transform=\"translate(-27,150) rotate(-90) translate(0,-2)\" font-family=\"sans-serif\" font-size=\"11px\" font-weight=\"bold\" fill=\"#000\" opacity=\"1\">mpg</text></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g><g class=\"mark-symbol role-mark marks\" role=\"graphics-object\" aria-roledescription=\"symbol mark container\"><path aria-label=\"wt: 2.62; mpg: 21; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(142.9090909090909,120)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.875; mpg: 21; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(156.8181818181818,120)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.32; mpg: 22.8; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(126.54545454545455,104.57142857142856)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.215; mpg: 21.4; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(175.36363636363635,116.57142857142857)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.44; mpg: 18.7; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(187.63636363636365,139.71428571428572)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.46; mpg: 18.1; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(188.72727272727272,144.85714285714283)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.57; mpg: 14.3; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(194.72727272727272,177.42857142857142)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.19; mpg: 24.4; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(174,90.85714285714288)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.15; mpg: 22.8; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(171.8181818181818,104.57142857142856)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.44; mpg: 19.2; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(187.63636363636365,135.42857142857142)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.44; mpg: 17.8; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(187.63636363636365,147.42857142857144)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 4.07; mpg: 16.4; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(222.00000000000003,159.42857142857144)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.73; mpg: 17.3; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(203.45454545454547,151.7142857142857)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.78; mpg: 15.2; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(206.1818181818182,169.71428571428572)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 5.25; mpg: 10.4; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(286.3636363636364,210.85714285714286)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 5.424; mpg: 10.4; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(295.8545454545455,210.85714285714286)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 5.345; mpg: 14.7; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(291.54545454545456,174.00000000000003)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.2; mpg: 32.4; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(120,22.285714285714285)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 1.615; mpg: 30.4; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(88.0909090909091,39.42857142857144)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 1.835; mpg: 33.9; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(100.09090909090908,9.428571428571441)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.465; mpg: 21.5; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(134.45454545454547,115.71428571428571)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.52; mpg: 15.5; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(192,167.14285714285714)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.435; mpg: 15.2; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(187.36363636363635,169.71428571428572)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.84; mpg: 13.3; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(209.45454545454544,186)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.845; mpg: 19.2; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(209.72727272727272,135.42857142857142)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 1.935; mpg: 27.3; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(105.54545454545455,65.99999999999999)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.14; mpg: 26; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(116.72727272727273,77.14285714285714)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 1.513; mpg: 30.4; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(82.52727272727272,39.42857142857144)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.17; mpg: 15.8; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(172.90909090909088,164.57142857142856)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.77; mpg: 19.7; cyl: 6\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(151.0909090909091,131.14285714285714)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#f58518\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 3.57; mpg: 15; cyl: 8\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(194.72727272727272,171.42857142857142)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#e45756\" stroke-width=\"2\" opacity=\"0.7\"/><path aria-label=\"wt: 2.78; mpg: 21.4; cyl: 4\" role=\"graphics-symbol\" aria-roledescription=\"point\" transform=\"translate(151.63636363636363,116.57142857142857)\" d=\"M2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,-2.7386127875258306,0A2.7386127875258306,2.7386127875258306,0,1,1,2.7386127875258306,0\" stroke=\"#4c78a8\" stroke-width=\"2\" opacity=\"0.7\"/></g><g class=\"mark-group role-legend\" role=\"graphics-symbol\" aria-roledescription=\"legend\" aria-label=\"Symbol legend titled 'cyl' for stroke color with 3 values: 4, 6, 8\"><g transform=\"translate(318,0)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h26v61h-26Z\" pointer-events=\"none\"/><g><g class=\"mark-group role-legend-entry\"><g transform=\"translate(0,16)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h0v0h0Z\" pointer-events=\"none\"/><g><g class=\"mark-group role-scope\" role=\"graphics-object\" aria-roledescription=\"group mark container\"><g transform=\"translate(0,0)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h24v12.5h-24Z\" pointer-events=\"none\" opacity=\"1\"/><g><g class=\"mark-symbol role-legend-symbol\" pointer-events=\"none\"><path transform=\"translate(6,6)\" d=\"M5,0A5,5,0,1,1,-5,0A5,5,0,1,1,5,0\" stroke=\"#4c78a8\" stroke-width=\"1.5\" opacity=\"0.7\"/></g><g class=\"mark-text role-legend-label\" pointer-events=\"none\"><text text-anchor=\"start\" transform=\"translate(16,9)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">4</text></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g><g transform=\"translate(0,16)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h24v12.5h-24Z\" pointer-events=\"none\" opacity=\"1\"/><g><g class=\"mark-symbol role-legend-symbol\" pointer-events=\"none\"><path transform=\"translate(6,6)\" d=\"M5,0A5,5,0,1,1,-5,0A5,5,0,1,1,5,0\" stroke=\"#f58518\" stroke-width=\"1.5\" opacity=\"0.7\"/></g><g class=\"mark-text role-legend-label\" pointer-events=\"none\"><text text-anchor=\"start\" transform=\"translate(16,9)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">6</text></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g><g transform=\"translate(0,32)\"><path class=\"background\" aria-hidden=\"true\" d=\"M0,0h24v12.5h-24Z\" pointer-events=\"none\" opacity=\"1\"/><g><g class=\"mark-symbol role-legend-symbol\" pointer-events=\"none\"><path transform=\"translate(6,6)\" d=\"M5,0A5,5,0,1,1,-5,0A5,5,0,1,1,5,0\" stroke=\"#e45756\" stroke-width=\"1.5\" opacity=\"0.7\"/></g><g class=\"mark-text role-legend-label\" pointer-events=\"none\"><text text-anchor=\"start\" transform=\"translate(16,9)\" font-family=\"sans-serif\" font-size=\"10px\" fill=\"#000\" opacity=\"1\">8</text></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g><g class=\"mark-text role-legend-title\" pointer-events=\"none\"><text text-anchor=\"start\" transform=\"translate(0,9)\" font-family=\"sans-serif\" font-size=\"11px\" font-weight=\"bold\" fill=\"#000\" opacity=\"1\">cyl</text></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" pointer-events=\"none\" display=\"none\"/></g></g></g><path class=\"foreground\" aria-hidden=\"true\" d=\"\" display=\"none\"/></g></g></g></svg>"

# vw_to_svg works with url data

    Code
      vw_to_svg_new(spec_wx, base_url = base_url) %>% cat()
    Output
      <?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="marks" width="241" height="242" viewBox="0 0 241 242"><rect width="241" height="242" fill="white"/><g fill="none" stroke-miterlimit="10" transform="translate(35,5)"><g class="mark-group role-frame root" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0.5,0.5h200v200h-200Z" stroke="#ddd"/><g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,200.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(17,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(33,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(50,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(66,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(83,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(99,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(116,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(133,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(150,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(167,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(183,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(200,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,200)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,164)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,127)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,91)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,55)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,18)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="X-axis titled 'date (month)' for a utc scale with values from January to January"><g transform="translate(0.5,200.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(17,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(33,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(50,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(66,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(83,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(99,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(116,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(133,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(150,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(167,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(183,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(200,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="start" transform="translate(0,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Jan</text><text text-anchor="middle" transform="translate(16.939890710382514,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Feb</text><text text-anchor="middle" transform="translate(32.78688524590164,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Mar</text><text text-anchor="middle" transform="translate(49.72677595628415,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Apr</text><text text-anchor="middle" transform="translate(66.12021857923497,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">May</text><text text-anchor="middle" transform="translate(83.06010928961749,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Jun</text><text text-anchor="middle" transform="translate(99.4535519125683,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Jul</text><text text-anchor="middle" transform="translate(116.39344262295081,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Aug</text><text text-anchor="middle" transform="translate(133.33333333333331,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Sep</text><text text-anchor="middle" transform="translate(149.72677595628417,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Oct</text><text text-anchor="middle" transform="translate(166.66666666666669,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Nov</text><text text-anchor="middle" transform="translate(183.0601092896175,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Dec</text><text text-anchor="end" transform="translate(200,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Jan</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="200" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(100,30)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">date (month)</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="Y-axis titled 'Mean of precipitation' for a linear scale with values from 0 to 6"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,200)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,164)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,127)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,91)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,55)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,18)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="end" transform="translate(-7,203)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">0</text><text text-anchor="end" transform="translate(-7,166.63636363636363)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">1</text><text text-anchor="end" transform="translate(-7,130.27272727272725)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">2</text><text text-anchor="end" transform="translate(-7,93.90909090909092)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">3</text><text text-anchor="end" transform="translate(-7,57.54545454545454)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">4</text><text text-anchor="end" transform="translate(-7,21.181818181818187)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">5</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,200)" x2="0" y2="-200" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(-19,100) rotate(-90) translate(0,-2)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">Mean of precipitation</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-rect role-mark marks" role="graphics-object" aria-roledescription="rect mark container"><path aria-label="date (month): Dec; Mean of precipitation: 3.75806451613" role="graphics-symbol" aria-roledescription="bar" d="M1,63.34310850439879h15.939890710382514v136.6568914956012h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Jan; Mean of precipitation: 3.73451327434" role="graphics-symbol" aria-roledescription="bar" d="M17.939890710382514,64.19951729686248h14.846994535519123v135.8004827031375h-14.846994535519123Z" fill="#4c78a8"/><path aria-label="date (month): Feb; Mean of precipitation: 4.88870967742" role="graphics-symbol" aria-roledescription="bar" d="M33.78688524590164,22.228739002932496h15.939890710382514v177.77126099706751h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Mar; Mean of precipitation: 3.12833333333" role="graphics-symbol" aria-roledescription="bar" d="M50.72677595628415,86.24242424242424h15.393442622950822v113.75757575757576h-15.393442622950822Z" fill="#4c78a8"/><path aria-label="date (month): Apr; Mean of precipitation: 1.67338709677" role="graphics-symbol" aria-roledescription="bar" d="M67.12021857923497,139.14956011730206h15.939890710382514v60.85043988269794h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): May; Mean of precipitation: 1.1075" role="graphics-symbol" aria-roledescription="bar" d="M84.06010928961749,159.72727272727272h15.393442622950815v40.27272727272728h-15.393442622950815Z" fill="#4c78a8"/><path aria-label="date (month): Jun; Mean of precipitation: 0.388709677419" role="graphics-symbol" aria-roledescription="bar" d="M100.4535519125683,185.8651026392962h15.939890710382514v14.134897360703803h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Jul; Mean of precipitation: 1.32016129032" role="graphics-symbol" aria-roledescription="bar" d="M117.39344262295081,151.99413489736068h15.9398907103825v48.00586510263932h-15.9398907103825Z" fill="#4c78a8"/><path aria-label="date (month): Aug; Mean of precipitation: 1.9625" role="graphics-symbol" aria-roledescription="bar" d="M134.33333333333331,128.63636363636357h15.393442622950857v71.36363636363643h-15.393442622950857Z" fill="#4c78a8"/><path aria-label="date (month): Sep; Mean of precipitation: 4.05967741935" role="graphics-symbol" aria-roledescription="bar" d="M150.72677595628417,52.37536656891493h15.939890710382514v147.62463343108507h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Oct; Mean of precipitation: 5.35416666667" role="graphics-symbol" aria-roledescription="bar" d="M167.66666666666669,5.303030303030365h15.3934426229508v194.69696969696963h-15.3934426229508Z" fill="#4c78a8"/><path aria-label="date (month): Nov; Mean of precipitation: 5.02177419355" role="graphics-symbol" aria-roledescription="bar" d="M184.0601092896175,17.39002932551328h15.939890710382514v182.60997067448673h-15.939890710382514Z" fill="#4c78a8"/></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g></svg>

# vw_to_svg works with local data

    Code
      vw_to_svg_new(spec_wx, base_url = tempdir) %>% cat()
    Output
      <?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="marks" width="241" height="242" viewBox="0 0 241 242"><rect width="241" height="242" fill="white"/><g fill="none" stroke-miterlimit="10" transform="translate(35,5)"><g class="mark-group role-frame root" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0.5,0.5h200v200h-200Z" stroke="#ddd"/><g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,200.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(17,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(33,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(50,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(66,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(83,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(99,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(116,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(133,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(150,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(167,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(183,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(200,-200)" x2="0" y2="200" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,200)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,164)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,127)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,91)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,55)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(0,18)" x2="200" y2="0" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="X-axis titled 'date (month)' for a utc scale with values from January to January"><g transform="translate(0.5,200.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(17,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(33,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(50,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(66,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(83,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(99,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(116,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(133,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(150,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(167,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(183,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(200,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="start" transform="translate(0,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Jan</text><text text-anchor="middle" transform="translate(16.939890710382514,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Feb</text><text text-anchor="middle" transform="translate(32.78688524590164,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Mar</text><text text-anchor="middle" transform="translate(49.72677595628415,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Apr</text><text text-anchor="middle" transform="translate(66.12021857923497,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">May</text><text text-anchor="middle" transform="translate(83.06010928961749,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Jun</text><text text-anchor="middle" transform="translate(99.4535519125683,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Jul</text><text text-anchor="middle" transform="translate(116.39344262295081,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Aug</text><text text-anchor="middle" transform="translate(133.33333333333331,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Sep</text><text text-anchor="middle" transform="translate(149.72677595628417,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Oct</text><text text-anchor="middle" transform="translate(166.66666666666669,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Nov</text><text text-anchor="middle" transform="translate(183.0601092896175,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="0">Dec</text><text text-anchor="end" transform="translate(200,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Jan</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="200" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(100,30)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">date (month)</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="Y-axis titled 'Mean of precipitation' for a linear scale with values from 0 to 6"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,200)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,164)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,127)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,91)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,55)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,18)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="end" transform="translate(-7,203)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">0</text><text text-anchor="end" transform="translate(-7,166.63636363636363)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">1</text><text text-anchor="end" transform="translate(-7,130.27272727272725)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">2</text><text text-anchor="end" transform="translate(-7,93.90909090909092)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">3</text><text text-anchor="end" transform="translate(-7,57.54545454545454)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">4</text><text text-anchor="end" transform="translate(-7,21.181818181818187)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">5</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,200)" x2="0" y2="-200" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(-19,100) rotate(-90) translate(0,-2)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">Mean of precipitation</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-rect role-mark marks" role="graphics-object" aria-roledescription="rect mark container"><path aria-label="date (month): Dec; Mean of precipitation: 3.75806451613" role="graphics-symbol" aria-roledescription="bar" d="M1,63.34310850439879h15.939890710382514v136.6568914956012h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Jan; Mean of precipitation: 3.73451327434" role="graphics-symbol" aria-roledescription="bar" d="M17.939890710382514,64.19951729686248h14.846994535519123v135.8004827031375h-14.846994535519123Z" fill="#4c78a8"/><path aria-label="date (month): Feb; Mean of precipitation: 4.88870967742" role="graphics-symbol" aria-roledescription="bar" d="M33.78688524590164,22.228739002932496h15.939890710382514v177.77126099706751h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Mar; Mean of precipitation: 3.12833333333" role="graphics-symbol" aria-roledescription="bar" d="M50.72677595628415,86.24242424242424h15.393442622950822v113.75757575757576h-15.393442622950822Z" fill="#4c78a8"/><path aria-label="date (month): Apr; Mean of precipitation: 1.67338709677" role="graphics-symbol" aria-roledescription="bar" d="M67.12021857923497,139.14956011730206h15.939890710382514v60.85043988269794h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): May; Mean of precipitation: 1.1075" role="graphics-symbol" aria-roledescription="bar" d="M84.06010928961749,159.72727272727272h15.393442622950815v40.27272727272728h-15.393442622950815Z" fill="#4c78a8"/><path aria-label="date (month): Jun; Mean of precipitation: 0.388709677419" role="graphics-symbol" aria-roledescription="bar" d="M100.4535519125683,185.8651026392962h15.939890710382514v14.134897360703803h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Jul; Mean of precipitation: 1.32016129032" role="graphics-symbol" aria-roledescription="bar" d="M117.39344262295081,151.99413489736068h15.9398907103825v48.00586510263932h-15.9398907103825Z" fill="#4c78a8"/><path aria-label="date (month): Aug; Mean of precipitation: 1.9625" role="graphics-symbol" aria-roledescription="bar" d="M134.33333333333331,128.63636363636357h15.393442622950857v71.36363636363643h-15.393442622950857Z" fill="#4c78a8"/><path aria-label="date (month): Sep; Mean of precipitation: 4.05967741935" role="graphics-symbol" aria-roledescription="bar" d="M150.72677595628417,52.37536656891493h15.939890710382514v147.62463343108507h-15.939890710382514Z" fill="#4c78a8"/><path aria-label="date (month): Oct; Mean of precipitation: 5.35416666667" role="graphics-symbol" aria-roledescription="bar" d="M167.66666666666669,5.303030303030365h15.3934426229508v194.69696969696963h-15.3934426229508Z" fill="#4c78a8"/><path aria-label="date (month): Nov; Mean of precipitation: 5.02177419355" role="graphics-symbol" aria-roledescription="bar" d="M184.0601092896175,17.39002932551328h15.939890710382514v182.60997067448673h-15.939890710382514Z" fill="#4c78a8"/></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g></svg>

